#!/bin/sh

#********************************************************************
# AUTHORS: Vijay Ganesh, David L. Dill
#
# BEGIN DATE: November, 2005
#
# LICENSE: Please view LICENSE file in the home dir of this Program
#********************************************************************

# check for an option --prefix=/path/to/prefix and use that as the 
# prefix, otherwise use /usr/local
PREFIX=/usr/local

while [ $# -gt 0 ]; do
    case "$1" in
	--prefix=*)
	    arg=`expr "x$1" : 'x[^=]*=\(.*\)'`
	    PREFIX=$arg;;
	--with-g++=*)
	    arg=`expr "x$1" : 'x[^=]*=\(.*\)'`    
	    CXX=$arg
	    echo "Using g++ instead of gcc";;
	--help)
	    echo "Usage: configure [options]"
	    echo "   --prefix=/prefix/path   Install STP at the specified path"
	    exit 0;;
    esac

    shift
done


echo "PREFIX=$PREFIX" > config.info
echo "Setting prefix to... $PREFIX"
if [ $CXX ]
then echo "CXX=$CXX" >> config.info
export CXX="$CXX"
echo "Setting CXX to... $CXX"
fi

cp Makefile.in Makefile
